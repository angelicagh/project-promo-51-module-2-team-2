const o={field1:0,field2:"",field3:"",field4:"",field5:"",field6:"",field7:"",field8:"",field9:"",photo:""};let k=document.querySelector(".js-card-elements");const E=document.querySelector(".js-card-level"),d=document.querySelector(".js-card");let a=document.querySelector(".js-card-name"),s=document.querySelector(".js-card-family"),u=document.querySelector(".js-card-description"),m=document.querySelector(".js-card-skill"),f=document.querySelector(".js-card-origin"),g=document.querySelector(".js-card-weapon"),y=document.querySelector(".js-card-level"),j=document.querySelector(".js-profile-image"),b=document.querySelector(".js-element-agua"),M=document.querySelector(".js-element-fuego"),I=document.querySelector(".js-element-viento"),C=document.querySelector(".js-element-tierra");console.log("avatar funciona");const i=new FileReader,L=document.querySelector(".js-profile-upload-btn"),B=document.querySelector(".js-profile-image");function w(e){const t=e.currentTarget.files[0];i.addEventListener("load",x),i.readAsDataURL(t)}function x(){B.style.backgroundImage=`url(${i.result})`,o.photo=i.result}L&&L.addEventListener("change",w);let R=document.querySelectorAll(".js_input");const h=document.querySelector(".js-checkbox-element"),p=document.querySelector(".js-reset-btn"),c=document.querySelector(".js-input-level "),q=document.querySelectorAll(".js_background-img");function _(e){let t=e.target.value,l=`.js-card-${e.currentTarget.id}`,r=document.querySelector(l);r.innerHTML=t}function $(){R.forEach(e=>{e.addEventListener("input",_)})}function A(e){e.preventDefault();let t=parseInt(c.value);t>100||t<1?(c.value="",c.placeholder="Tiene que ser menos de 100"):E.innerHTML=t}h&&h.addEventListener("change",e=>{let t=e.target,l=`.js-element-${t.value}`,r=document.querySelector(l);t.checked===!0?r.classList.remove("hidden"):r.classList.add("hidden"),console.log(k)});function D(e){let t=e.target,n=`input-${t.id}`,l=`card-${t.id}`,r=document.getElementById(n);r.checked===!1?(q.forEach(H=>{H.classList.remove("form-background__img--selected")}),d.classList.remove("card-bg-1","card-bg-2","card-bg-3","card-bg-4"),r.checked,t.classList.add("form-background__img--selected"),d.classList.add(l),o.field8=l):r.checked===!1&&t.classList.remove("form-background__img--selected")}function F(){q.forEach(e=>{e.addEventListener("click",D)})}function P(){y.innerHTML="58",a.innerHTML="Éowyn, lady of Rohan",s.innerHTML="Humana",u.innerHTML="Éowyn es un personaje de la novela fantástica El Señor de los Anillos, de J. R. R. Tolkien. Es una noble de Rohan.",m.innerHTML="Rugido de núcleo",f.innerHTML="Terragónida",g.innerHTML="Talismán",j.style.backgroundImage="url('./images/eowyn.jpg')",b.classList.add("hidden"),M.classList.add("hidden"),I.classList.add("hidden"),C.classList.add("hidden")}$();F();c&&c.addEventListener("input",A);p&&p.addEventListener("click",P);const v=document.querySelector(".js-create-button"),S=document.querySelector(".js-share-text"),J=e=>{e.preventDefault(),o.field1=parseInt(y.innerHTML),o.field2=a.innerHTML,o.field3=s.innerHTML,o.field4=u.innerHTML,o.field5=m.innerHTML,o.field6=f.innerHTML,o.field7=g.innerHTML,console.log(o),fetch("https://dev.adalab.es/api/info/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(t=>t.json()).then(t=>{console.log("Success:",t),S.href=`share.html?infoID=${t.infoID}`,S.classList.remove("hidden")}).catch(t=>{console.error("Error:",t)})};v&&v.addEventListener("click",J);console.log("accordion funciona");const O=document.querySelectorAll(".accordion-header"),U=document.querySelectorAll(".accordion-content");O.forEach(e=>{e.addEventListener("click",()=>{const n=e.parentElement.querySelector(".accordion-content");U.forEach(l=>{l!==n&&(l.classList.remove("active"),l.style.maxHeight="0",l.style.paddingTop="0",l.style.paddingBottom="0")}),n.classList.toggle("active"),n.classList.contains("active")?(n.style.maxHeight=n.scrollHeight+"px",n.style.paddingTop="10px",n.style.paddingBottom="10px"):(n.style.maxHeight="0",n.style.paddingTop="0",n.style.paddingBottom="0")})});const V=new URLSearchParams(window.location.search),T=V.get("infoID");T&&fetch(`https://dev.adalab.es/api/info/${T}`).then(e=>e.json()).then(e=>{console.log(e),console.log("field9: "),y.innerHTML=e.data.field1,a.innerHTML=e.data.field2,s.innerHTML=e.data.field3,u.innerHTML=e.data.field4,m.innerHTML=e.data.field5,f.innerHTML=e.data.field6,g.innerHTML=e.data.field7,j.style.backgroundImage=`url('${e.data.photo}')`,e.data.field8!==""&&d.classList.add(e.data.field8)}).catch(e=>{console.error("Error al obtener los datos:",e)});
//# sourceMappingURL=main.js.map
